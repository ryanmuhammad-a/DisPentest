import subprocess

# Read the targets from the file
with open("/home/op/recon/output.txt", "r") as targets_file:
    targets = targets_file.read().splitlines()

# Define the payloads file
payloads_file = "/home/DisPentest/payloads.txt"

# Loop through each target and execute the ffuf command
for target in targets:
    # Construct the ffuf command with the current target and constant payloads file
    ffuf_command = f"/home/op/go/bin/ffuf -c -v -w {payloads_file} -u {target} -mc 301"

    # Run the ffuf command using subprocess
    subprocess.run(ffuf_command, shell=True)
